export default async function initializeColumns(e){var t,r;"loaded"!==e.dataset.status&&({createElement:t,markLoaded:r}=await import("../../../scripts/app.js"),(e.classList.contains("copyright")?buildCopyrightBar:buildColumns)(e,{createElement:t}),r(e,"columns"))}function parseColumnClasses(e){var t,r,n={base:null,responsive:null};for(t of[...e.classList])["component","columns","copyright","append","heading","footing"].includes(t)||((r=t.match(/^(\d+)-(sm|md|lg|xl|xxl)-(\d+)$/))?(n.base="col-"+r[1],n.responsive=`col-${r[2]}-`+r[3]):(r=t.match(/^(sm|md|lg|xl|xxl)-(\d+)$/))&&(n.responsive=`col-${r[1]}-`+r[2]));return n}function calculateFirstColumnOffset(n,e,t){if(!e.responsive)return null;var r=n.parentElement;if(!r)return null;e=e.responsive.match(/col-(\w+)-(\d+)$/);if(!e)return null;let i=e[1];e=parseInt(e[2],10),r=r.querySelectorAll(":scope > .component");let l=0;r.forEach(e=>{if(e!==n)for(var t of e.classList){var r=t.match(/^(?:sm|md|lg|xl|xxl)-(\d+)$/);r&&t.startsWith(i+"-")&&(l+=parseInt(r[1],10))}});r=12-l-t*e;return 0<r?`offset-${i}-`+r:null}function findAppendTarget(e){let t=e.previousElementSibling;for(;t;){if(t.classList.contains("component"))return t.querySelector(".row");t=t.previousElementSibling}return null}function findAppendContainer(e){let t=e.previousElementSibling;for(;t;){if(t.classList.contains("component"))return t.querySelector(".container");t=t.previousElementSibling}return null}function buildColumns(e,{createElement:l}){var t=e.classList.contains("append");let o=!!e.closest("footer"),s=parseColumnClasses(e);var r=[...e.children];let a=calculateFirstColumnOffset(e,s,r.length);if(t){let i=findAppendTarget(e);if(i)return r.forEach((e,t)=>{var r=e.querySelector(":scope > div");if(r){var e=[],n=(s.base&&e.push(s.base),s.responsive&&e.push(s.responsive),s.base||s.responsive||e.push("col"),0===t&&a&&e.push(a),l("div",e));if(o)transformFooterContent(r,n,{createElement:l});else for(;r.firstChild;)n.appendChild(r.firstChild);i.appendChild(n)}}),void e.remove()}t=document.createDocumentFragment();let i=l("div",["row","g-4"]);for(r.forEach((e,t)=>{var r=e.querySelector(":scope > div");if(r){var e=[],n=(s.base&&e.push(s.base),s.responsive&&e.push(s.responsive),s.base||s.responsive||e.push("col"),0===t&&a&&e.push(a),l("div",e));if(o)transformFooterContent(r,n,{createElement:l});else for(;r.firstChild;)n.appendChild(r.firstChild);i.appendChild(n)}}),t.appendChild(i);e.firstChild;)e.removeChild(e.firstChild);e.appendChild(t)}function transformFooterContent(e,n,{createElement:o}){[...e.children].forEach(e=>{if("P"===e.tagName){var t,r=e.querySelector("strong");if(r&&1===e.children.length)return(t=o("h6",["footer-heading"])).textContent=r.textContent,void n.appendChild(t)}"H6"===e.tagName?(e.classList.add("footer-heading"),e.removeAttribute("id")):"UL"!==e.tagName&&"OL"!==e.tagName||(e.classList.add("footer-links"),e.querySelectorAll(":scope > li").forEach(e=>{var t,r,n,i,l=e.querySelector("a");l&&((t=l.querySelector(".icon"))?(r=o("div",["footer-social"]),n=o("a",[],{href:l.getAttribute("href")||"#",target:"_blank",rel:"noopener"}),(i=[...t.classList].find(e=>e.startsWith("icon-")))&&(i=i.replace("icon-",""),n.setAttribute("aria-label",i.charAt(0).toUpperCase()+i.slice(1))),(i=t.querySelector("img"))&&n.appendChild(i),r.appendChild(n),e.textContent="",e.appendChild(r)):(l.classList.remove("btn","btn-link"),l.classList.length||l.removeAttribute("class")))})),n.appendChild(e)})}function buildCopyrightBar(e,{createElement:t}){var r=e.classList.contains("append"),n=e.children[0]?.querySelector(":scope > div"),i=t("div",["footer-bottom"]),l=t("div",["row","align-items-center"]),t=t("div",["col-md-6"]),n=n?.querySelector("p");if(n&&(n.classList.add("footer-copyright","mb-0"),t.appendChild(n)),l.appendChild(t),i.appendChild(l),r){n=findAppendContainer(e);if(n)return n.appendChild(i),void e.remove()}for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(i)}